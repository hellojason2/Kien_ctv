<!-- CTV Portal - Dashboard Page -->
<div class="page-section active" id="page-dashboard">
    <!-- Phone Check Card -->
    <div class="phone-check-card">
        <h3 style="margin-bottom:16px;font-size:16px;font-weight:600;" data-i18n="phone_check_title"></h3>
        <div class="phone-check-row">
            <input type="tel" id="dashPhoneInput" data-i18n-placeholder="phone_check_placeholder">
            <button class="btn-filter" onclick="checkPhonePortal()" data-i18n="check"></button>
            <div class="result" id="dashPhoneResult" style="display:none;"></div>
        </div>
    </div>

    <!-- Date Filter Card -->
    <div class="card" style="margin-bottom: 20px;">
        <div class="card-body" style="padding: 16px;">
            <div class="date-filter-row" style="display: flex; flex-wrap: wrap; gap: 8px; align-items: center;">
                <!-- Quick Filter Buttons -->
                <button class="btn-filter-preset active" data-preset="today" onclick="applyDashboardPreset('today')" data-i18n="today"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="3days" onclick="applyDashboardPreset('3days')" data-i18n="three_days"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="week" onclick="applyDashboardPreset('week')" data-i18n="week"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="month" onclick="applyDashboardPreset('month')" data-i18n="this_month"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="lastmonth" onclick="applyDashboardPreset('lastmonth')" data-i18n="last_month"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="3months" onclick="applyDashboardPreset('3months')" data-i18n="three_months"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="year" onclick="applyDashboardPreset('year')" data-i18n="this_year"><span class="data-indicator"></span></button>
                <button class="btn-filter-preset" data-preset="custom" onclick="toggleCustomDateFilter()" data-i18n="custom_range"></button>
            </div>
            <!-- Custom Date Range (hidden by default) -->
            <div id="customDateFilter" class="custom-date-filter" style="display: none; margin-top: 12px;">
                <div style="display: flex; flex-wrap: wrap; gap: 12px; align-items: center;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <label data-i18n="from_date" style="font-size: 14px; color: #666;"></label>
                        <input type="date" id="dashFromDate" class="date-input">
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <label data-i18n="to_date" style="font-size: 14px; color: #666;"></label>
                        <input type="date" id="dashToDate" class="date-input">
                    </div>
                    <button class="btn-filter" onclick="applyCustomDateFilter()" data-i18n="filter"></button>
                </div>
            </div>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-card green">
            <div class="label" data-i18n="total_earnings"></div>
            <div class="value" id="statTotalEarnings"><span class="skeleton-loader"></span></div>
        </div>
        <div class="stat-card blue">
            <div class="label" data-i18n="this_month" id="periodEarningsLabel"></div>
            <div class="value" id="statMonthlyEarnings"><span class="skeleton-loader"></span></div>
        </div>
        <div class="stat-card gold">
            <div class="label" data-i18n="network_size"></div>
            <div class="value" id="statNetworkSize"><span class="skeleton-loader"></span></div>
        </div>
        <div class="stat-card pink">
            <div class="label" data-i18n="services_this_month" id="periodServicesLabel"></div>
            <div class="value" id="statMonthlyServices"><span class="skeleton-loader"></span></div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 data-i18n="recent_commissions">RECENT COMMISSIONS - THIS MONTH</h3>
        </div>
        <div class="card-body">
            <div id="recentCommissions">
                <!-- Content populated by JS -->
                <div style="padding: 20px;">
                    <div class="skeleton-loader" style="height: 200px; width: 100%; border-radius: 12px;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lifetime Statistics Table -->
    <div class="card">
        <div class="card-header">
            <h3 class="badge-header" data-i18n="lifetime_statistics" style="background:var(--primary-blue); color:white; padding:8px 16px; border-radius:20px; font-size:12px; display:inline-block; font-weight:700; text-transform:uppercase;">LIFETIME STATISTICS</h3>
        </div>
        <div class="card-body">
            <div class="lifetime-stats-table">
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th data-i18n="metric">METRIC</th>
                            <th data-i18n="value">VALUE</th>
                        </tr>
                    </thead>
                    <tbody id="lifetimeStatsBody">
                        <!-- Content populated by JS -->
                        <tr>
                            <td colspan="2"><div class="skeleton-loader" style="height: 40px; width: 100%;"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

